(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{58:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);a(34);var n=a(1),c=a.n(n),s=a(31),r=a.n(s),i=a(14),o=a(5),l=a(6),u=a(8),j=a(7),h=a(2),m=a(4),v=a.n(m),d=a(13),b=a(16),p=a.n(b),O="https://api.themoviedb.org/3",f="be2bb7fd29eddf6e05cfa10ca2e7b19c",x=function(e){return p.a.get("".concat(O,"/movie/").concat(e,"?api_key=").concat(f,"&language=en-US"))},_=function(e){return p.a.get("".concat(O,"/movie/").concat(e,"/credits?api_key=").concat(f,"&language=en-US"))},y=function(e){return p.a.get("".concat(O,"/movie/").concat(e,"/reviews?api_key=").concat(f,"&language=en-US"))},g=(a(58),a(0)),N=function(e){var t=e.movies;return Object(g.jsx)("ul",{className:"MoviesList",children:t.map((function(e){var t=e.id,a=e.title;return Object(g.jsx)("li",{className:"MoviesList-item",children:Object(g.jsx)(i.b,{to:"/movies/".concat(t),className:"MoviesList-item__link",children:a})},t)}))})},w=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={movies:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(O,"/trending/movie/day?api_key=").concat(f,"&language=en-US"));case 2:t=e.sent,this.setState({movies:t.data.results});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(),Object(g.jsxs)("div",{className:"Content",children:[Object(g.jsx)("h1",{children:"Trending today"}),Object(g.jsx)(N,{movies:this.state.movies})]})}}]),a}(n.Component),k=a(33),C=(a(68),function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(g.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:this.state.query,onChange:this.handleChange}),Object(g.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(g.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]})}}]),a}(n.Component)),S=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={movies:[],searchQuery:""},e.onChangeQuery=function(t){e.setState({movies:[],searchQuery:t})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(d.a)(v.a.mark((function e(t,a){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.searchQuery===this.state.searchQuery){e.next=6;break}return n=this.state.searchQuery,e.next=4,t=n,p.a.get("".concat(O,"/search/movie?api_key=").concat(f,"&query=").concat(t,"&language=en-US"));case 4:c=e.sent,this.setState({movies:Object(k.a)(c.data.results)});case 6:case"end":return e.stop()}var t}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"Content",children:[Object(g.jsx)(C,{onSubmit:this.onChangeQuery}),Object(g.jsx)(N,{movies:this.state.movies})]})}}]),a}(n.Component),M=a(22),L=(a(69),a.p+"static/media/noimage.28f594e6.svg"),D=function(e){return e?"https://image.tmdb.org/t/p/w500"+e:L},F=function(e){var t=e.cast;return Object(g.jsx)("ul",{className:"CastList",children:t.map((function(e){var t=e.id,a=e.profile_path,n=e.name,c=e.character;return Object(g.jsxs)("li",{className:"CastList__item",children:[Object(g.jsx)("img",{className:"CastList__img",src:D(a),alt:n}),Object(g.jsx)("h4",{className:"CastList__title",children:n}),Object(g.jsx)("p",{className:"CastList__text",children:c})]},t)}))})},A=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={cast:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,_(t);case 3:a=e.sent,this.setState({cast:a.data.cast});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsx)(F,{cast:this.state.cast})}}]),a}(n.Component),Q=(a(70),function(e){var t=e.reviews;return Object(g.jsx)("ul",{className:"ReviewsList",children:t.map((function(e){var t=e.id,a=e.author,n=e.content;return Object(g.jsxs)("li",{className:"ReviewsList__item",children:[Object(g.jsxs)("h3",{className:"ReviewsList__title",children:["# ",a]}),Object(g.jsx)("p",{className:"ReviewsList__text",children:n})]},t)}))})}),U=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={reviews:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,y(t);case 3:a=e.sent,this.setState({reviews:a.data.results});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsx)(Q,{reviews:this.state.reviews})}}]),a}(n.Component),q=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={movie:{}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t,a,n,c,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,x(t);case 3:a=e.sent,n=a.data,c=n.poster_path,s=n.release_date,r=n.vote_average,this.setState({movie:Object(M.a)(Object(M.a)({},a.data),{},{poster_path:D(c),release_date:(o=s,new Date(o).getFullYear()),vote_average:(i=r,10*i)})});case 6:case"end":return e.stop()}var i,o}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movie,t=e.release_date,a=e.poster_path,n=e.title,c=e.vote_average,s=e.overview,r=e.genres,o=this.props.match;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"MovieDetails Content",children:[Object(g.jsx)("div",{className:"MovieDetails__poster",children:Object(g.jsx)("img",{className:"MovieDetails__img",src:a,alt:n})}),Object(g.jsxs)("div",{className:"MovieDetails__desc",children:[Object(g.jsxs)("h1",{children:[n," (",t,")"]}),Object(g.jsxs)("p",{children:["User Score: ",c,"%"]}),Object(g.jsx)("h3",{children:"Overview"}),Object(g.jsx)("p",{children:s}),Object(g.jsx)("h3",{children:"Genres"}),r?Object(g.jsx)("ul",{className:"Genres-list",children:r.map((function(e){return Object(g.jsxs)("li",{className:"Genres-list__item",children:["# ",e.name]},e.id)}))}):Object(g.jsx)("p",{children:"No data"})]})]}),Object(g.jsxs)("div",{className:"additional",children:[Object(g.jsx)("h3",{className:"additional-title",children:"Additional information"}),Object(g.jsxs)("ul",{className:"additional-list",children:[Object(g.jsx)("li",{className:"additional-list__item",children:Object(g.jsx)(i.b,{to:"".concat(o.url,"/cast"),className:"additional-list__link",activeClassName:"additional-list__active",children:"Cast"})}),Object(g.jsx)("li",{className:"additional-list__item",children:Object(g.jsx)(i.b,{to:"".concat(o.url,"/reviews"),className:"additional-list__link",activeClassName:"additional-list__active",children:"Reviews"})})]}),Object(g.jsx)(h.a,{path:"".concat(o.path,"/cast"),component:A}),Object(g.jsx)(h.a,{path:"".concat(o.path,"/reviews"),component:U})]})]})}}]),a}(n.Component),I=function(){return Object(g.jsx)("div",{className:"Content",children:Object(g.jsx)("h1",{children:"404 - Page not found"})})},R=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("ul",{className:"menu-list",children:[Object(g.jsx)("li",{className:"menu-list__item",children:Object(g.jsx)(i.b,{exact:!0,to:"/",className:"menu-list__link",activeClassName:"menu-active",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)(i.b,{to:"/movies",className:"menu-list__link",activeClassName:"menu-active",children:"Movies"})})]}),Object(g.jsxs)(h.c,{children:[Object(g.jsx)(h.a,{exact:!0,path:"/",component:w}),Object(g.jsx)(h.a,{path:"/movies/:movieId",component:q}),Object(g.jsx)(h.a,{path:"/movies",component:S}),Object(g.jsx)(h.a,{path:"/",component:I})]})]})}}]),a}(n.Component);a(71);r.a.render(Object(g.jsx)(i.a,{children:Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(R,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.5f2d147b.chunk.js.map